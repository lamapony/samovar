<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–µ | Samovar</title>
    <link rel="stylesheet" href="../css/style.css" />
    <style>
      /* Commander Game */
      .command-scene {
        background: #f0f4f8;
        padding: 30px;
        border-radius: 12px;
        text-align: center;
        margin-top: 30px;
      }

      .scene-context {
        font-size: 1.2rem;
        margin-bottom: 20px;
        color: var(--accent-blue);
        font-weight: bold;
      }

      .scene-img {
        font-size: 4rem;
        margin-bottom: 20px;
        display: block;
      }

      .command-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }

      .cmd-btn {
        padding: 15px;
        border: 2px solid #ddd;
        background: white;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.2s;
      }

      .cmd-btn:hover {
        border-color: var(--accent-blue);
        transform: translateY(-2px);
      }

      /* Formation Visualizer */
      .formation-card {
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 10px;
        background: white;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .stem {
        color: #666;
      }

      .suffix {
        color: var(--accent-red);
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <a href="../index.html" class="logo">Samovar.</a>
        <nav>
          <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
          <a href="verbs.html">–ì–ª–∞–≥–æ–ª</a>
          <a
            href="imperative.html"
            class="active"
            style="color: var(--text-ink); border-bottom: 1px solid var(--accent-red)"
            >–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–µ</a
          >
        </nav>
      </header>

      <main class="content-block">
        <div class="content-main">
          <h1>–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–µ</h1>
          <p class="lead">
            –ö–∞–∫ –≤–µ–∂–ª–∏–≤–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –∏–ª–∏ –ø—Ä–∏–∫–∞–∑–∞—Ç—å? –ü–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–µ ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –≤—ã—Ä–∞–∑–∏—Ç—å
            –ø—Ä–æ—Å—å–±—É, –ø—Ä–∏–∫–∞–∑ –∏–ª–∏ —Å–æ–≤–µ—Ç.
          </p>

          <section id="formation">
            <h2>–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (Dannelse)</h2>
            <p>–ë–µ—Ä–µ–º –æ—Å–Ω–æ–≤—É –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (3 –ª. –º–Ω.—á - –æ–Ω–∏) –∏ —É–±–∏—Ä–∞–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏–µ.</p>

            <div class="game-container" style="background: white">
              <h3>–¢—Ä–∏ —Ç–∏–ø–∞ –æ–∫–æ–Ω—á–∞–Ω–∏–π</h3>

              <div class="formation-card">
                <div><strong>1. –ù–∞ –≥–ª–∞—Å–Ω—É—é:</strong> –ß–∏—Ç–∞—é—Ç ‚Üí <span class="stem">–ß–∏—Ç–∞-</span></div>
                <div class="suffix">+ –ô</div>
                <div>= –ß–∏—Ç–∞–π!</div>
              </div>

              <div class="formation-card">
                <div><strong>2. –ù–∞ —Å–æ–≥–ª–∞—Å–Ω—É—é:</strong> –ü–∏—à—É—Ç ‚Üí <span class="stem">–ü–∏—à-</span></div>
                <div class="suffix">+ –ò</div>
                <div>= –ü–∏—à–∏!</div>
              </div>

              <div class="formation-card">
                <div>
                  <strong>3. –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–∞ –Ω–∞ —Å–æ–≥–ª.:</strong> –í—Å—Ç–∞–Ω—É—Ç ‚Üí
                  <span class="stem">–í—Å—Ç–∞–Ω-</span>
                </div>
                <div class="suffix">+ –¨</div>
                <div>= –í—Å—Ç–∞–Ω—å!</div>
              </div>
            </div>

            <!-- Micro Practice -->
            <div class="inline-quiz">
              <span class="inline-question">–û–Ω–∏ <strong>–¥—É–º–∞—é—Ç</strong>. –ö–∞–∫–æ–µ –ø–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–µ?</span>
              <div class="inline-options">
                <button
                  class="inline-btn"
                  onclick="checkInline(this, true, '–í–µ—Ä–Ω–æ! –û—Å–Ω–æ–≤–∞ –Ω–∞ –≥–ª–∞—Å–Ω—É—é (–¥—É–º–∞-) + –ô.')"
                >
                  –î—É–º–∞–π!
                </button>
                <button
                  class="inline-btn"
                  onclick="checkInline(this, false, '–ù–µ—Ç. –û—Å–Ω–æ–≤–∞ –Ω–∞ –≥–ª–∞—Å–Ω—É—é, –ø–æ—ç—Ç–æ–º—É –ô.')"
                >
                  –î—É–º–∏!
                </button>
              </div>
              <div class="inline-feedback"></div>
            </div>
          </section>

          <section id="polite-form">
            <h2>–í–µ–∂–ª–∏–≤–æ—Å—Ç—å: –¢—ã –∏–ª–∏ –í—ã?</h2>
            <p>–í —Ä—É—Å—Å–∫–æ–º –≤—ã–±–æ—Ä —Ñ–æ—Ä–º—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω.</p>

            <ul class="module-list">
              <li class="module-item">
                <strong>–¢—ã (Du)</strong> ‚Äî –î—Ä—É–∑—å—è, –¥–µ—Ç–∏, —Å–µ–º—å—è. <br />
                <em>–ß–∏—Ç–∞–π! (L√¶s!)</em>
              </li>
              <li class="module-item">
                <strong>–í—ã (De/I)</strong> ‚Äî –ù–µ–∑–Ω–∞–∫–æ–º—Ü—ã, —Å—Ç–∞—Ä—à–∏–µ, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ. <br />
                <em>–ß–∏—Ç–∞–π—Ç–µ! (L√¶s!)</em> (–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ <strong>-—Ç–µ</strong>)
              </li>
            </ul>
          </section>

          <section id="practice">
            <h2>–ü—Ä–∞–∫—Ç–∏–∫–∞: –ö–æ–º–∞–Ω–¥–∏—Ä</h2>
            <p>–î–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏.</p>

            <div class="command-scene">
              <span class="scene-img">üö™</span>
              <div class="scene-context" id="cmd-context">
                –°–∏—Ç—É–∞—Ü–∏—è: –í—ã –ø—Ä–æ—Å–∏—Ç–µ <strong>–¥—Ä—É–≥–∞</strong> –∑–∞–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å.
              </div>
              <div class="command-options" id="cmd-opts">
                <button class="cmd-btn" onclick="checkCmd('–ó–∞–∫—Ä–æ–π')">–ó–∞–∫—Ä–æ–π!</button>
                <button class="cmd-btn" onclick="checkCmd('–ó–∞–∫—Ä–æ–π—Ç–µ')">–ó–∞–∫—Ä–æ–π—Ç–µ!</button>
              </div>
              <div id="cmd-feedback" class="feedback" style="margin-top: 20px"></div>
            </div>
          </section>
        </div>

        <aside class="content-note">
          <div class="margin-note">
            <strong>–ò—Å–∫–ª—é—á–µ–Ω–∏—è</strong>
            –ï—Å—Ç—å ‚Üí –ï—à—å! <br />
            –î–∞—Ç—å ‚Üí –î–∞–π! <br />
            –ü–∏—Ç—å ‚Üí –ü–µ–π!
          </div>
        </aside>
      </main>

      <footer>
        <div>&copy; 2025 Samovar</div>
      </footer>
    </div>

    <script>
      // Inline Quiz
      function checkInline(btn, isCorrect, msg) {
        const container = btn.closest('.inline-quiz');
        const feedback = container.querySelector('.inline-feedback');
        container.querySelectorAll('.inline-btn').forEach((b) => {
          b.style.background = 'white';
          b.style.color = 'var(--text-faded)';
          b.style.borderColor = '#ccc';
        });
        if (isCorrect) {
          btn.style.background = 'var(--success-color)';
          btn.style.color = 'white';
          feedback.innerText = msg;
          feedback.className = 'inline-feedback correct';
        } else {
          btn.style.background = 'var(--error-color)';
          btn.style.color = 'white';
          feedback.innerText = msg;
          feedback.className = 'inline-feedback incorrect';
        }
      }

      // Commander Game
      const scenarios = [
        {
          ctx: '–í—ã –ø—Ä–æ—Å–∏—Ç–µ <strong>–¥—Ä—É–≥–∞</strong> –∑–∞–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å.',
          correct: '–ó–∞–∫—Ä–æ–π',
          opts: ['–ó–∞–∫—Ä–æ–π', '–ó–∞–∫—Ä–æ–π—Ç–µ'],
        },
        {
          ctx: '–í—ã –ø—Ä–æ—Å–∏—Ç–µ <strong>—É—á–∏—Ç–µ–ª—è</strong> –ø–æ–≤—Ç–æ—Ä–∏—Ç—å.',
          correct: '–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ',
          opts: ['–ü–æ–≤—Ç–æ—Ä–∏', '–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ'],
        },
        {
          ctx: '–í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ <strong>–¥–µ—Ç—è–º</strong> (–º–Ω.—á) —Å–µ—Å—Ç—å.',
          correct: '–°–∞–¥–∏—Ç–µ—Å—å',
          opts: ['–°—è–¥—å', '–°–∞–¥–∏—Ç–µ—Å—å'],
        },
        {
          ctx: '–í—ã –ø—Ä–æ—Å–∏—Ç–µ <strong>–º–∞–º—É</strong> –ø–æ–∑–≤–æ–Ω–∏—Ç—å.',
          correct: '–ü–æ–∑–≤–æ–Ω–∏',
          opts: ['–ü–æ–∑–≤–æ–Ω–∏', '–ü–æ–∑–≤–æ–Ω–∏—Ç–µ'],
        },
      ];

      let currentScene = 0;

      function renderScene() {
        const s = scenarios[currentScene];
        document.getElementById('cmd-context').innerHTML = '–°–∏—Ç—É–∞—Ü–∏—è: ' + s.ctx;

        const container = document.getElementById('cmd-opts');
        container.innerHTML = '';

        s.opts.forEach((opt) => {
          const btn = document.createElement('button');
          btn.className = 'cmd-btn';
          btn.innerText = opt + '!';
          btn.onclick = () => checkCmd(opt);
          container.appendChild(btn);
        });

        document.getElementById('cmd-feedback').style.display = 'none';
      }

      function checkCmd(ans) {
        const s = scenarios[currentScene];
        const fb = document.getElementById('cmd-feedback');

        if (ans === s.correct) {
          fb.innerText = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –≠—Ç–æ —É–º–µ—Å—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞.';
          fb.className = 'feedback correct';
          setTimeout(() => {
            currentScene = (currentScene + 1) % scenarios.length;
            renderScene();
          }, 1500);
        } else {
          fb.innerText = '–ù–µ–≤–µ—Ä–Ω–æ. –ü–æ–¥—É–º–∞–π—Ç–µ –æ –≤–µ–∂–ª–∏–≤–æ—Å—Ç–∏ –∏ —á–∏—Å–ª–µ.';
          fb.className = 'feedback incorrect';
        }
        fb.style.display = 'block';
      }

      renderScene();
    </script>
  </body>
</html>
